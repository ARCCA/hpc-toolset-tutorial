#### Tutorial links

- Coldfront: https://localhost:2443
- OnDemand: https://localhost:3443
- XDMoD: https://localhost:4443
- Login to frontend: `ssh -p 6222 hpcadmin@localhost`
- GitHub Repo: https://github.com/ubccr/hpc-toolset-tutorial
- Accounts: https://github.com/ubccr/hpc-toolset-tutorial/blob/master/docs/applications.md
- OnDemand Tutorial: https://github.com/ubccr/hpc-toolset-tutorial/blob/master/ondemand/README.md

#### Project links

- Coldfront: https://github.com/ubccr/coldfront
- OnDemand: https://openondemand.org
- XDMoD: https://open.xdmod.org

#### Notes

Setup python environment for using Jupyter:

    source /usr/local/jupyter/2.1.4/bin/activate

Enable XDMoD Integration

    # specify XDMoD resource_id of the cluster in
    # OnDemand's cluster config by adding this section
    #
    # custom:
    #   xdmod:
    #     resource_id: 1
    #
    ssh ondemand 'printf "  custom:\n    xdmod:\n      resource_id: 1\n" | sudo tee -a /etc/ood/config/clusters.d/hpc.yml'

    # /etc/ood/config/nginx_stage.yml
    #
    # pun_custom_env:
    #   OOD_XDMOD_HOST: "https://localhost:4443"
    ssh ondemand $'sudo sed -i \'s|# pun_custom_env:|pun_custom_env:\\n  OOD_XDMOD_HOST: \"https://localhost:4443\"|g\' /etc/ood/config/nginx_stage.yml'


    # /etc/xdmod/portal_settings.ini add OnDemand to the list of domains to enable CORS
    #
    # domains = "https://localhost:3443"
    ssh xdmod $'sudo sed -i \'s|domains = \"\"|domains = \"https://localhost:3443\"|g\' /etc/xdmod/portal_settings.ini'

    # run ingest command to process all jobs and build reports (if this has not already been done)
    ssh xdmod 'sudo -u xdmod /srv/xdmod/scripts/shred-ingest-aggregate-all.sh'

